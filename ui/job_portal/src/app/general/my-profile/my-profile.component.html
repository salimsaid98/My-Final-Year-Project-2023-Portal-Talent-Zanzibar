<!-- navbar -->
<app-nav-bar></app-nav-bar>
<!-- nav_bar -->

<div class="tr-breadcrumb bg-image section-before" *ngIf="user_info_data">
  <div class="container">
    <div class="breadcrumb-info text-center">
      <div class="user-image" *ngFor="let logo of img_file">
        <img [src]="getBase64Image(logo)" alt="{{ logo.name }}" class="img-fluid" />

      </div>
      <div class="user-title">
        <h1>{{user_info_data.first_name}} {{user_info_data.last_name}}</h1>
      </div>
      <ul class="job-meta tr-list list-inline">
        <li>
          <i class="fa fa-map-marker" aria-hidden="true"></i>{{user_info_data.country_of_origin}}, {{user_info_data.address}}
        </li>
        <li><i class="fa fa-phone" aria-hidden="true"></i>{{user_info_data.contact}}</li>
        <li>
          <i class="fa fa-envelope" aria-hidden="true"></i
          ><a href="#"
            ><span
              class="__cf_email__"
              data-cfemail="0f656760616b606a4f68626e6663216c6062"
              >[{{user_info_data.email}}]</span
            ></a
          >
        </li>
        <li>
          <i class="fa fa-briefcase" aria-hidden="true"></i>{{user_info_data.specialization}}
        </li>
      </ul>
      <ul class="breadcrumb-social social-icon-bg tr-list">
        <li>
          <a href="#"><i class="fa fa-facebook"></i><span>Facebook</span></a>
        </li>
        <li>
          <a href="#"><i class="fa fa-twitter"></i> <span>Twitter</span> </a>
        </li>
        <li>
          <a href="#"
            ><i class="fa fa-google-plus"></i> <span>Google Plus</span>
          </a>
        </li>
        <li>
          <a href="#"><i class="fa fa-linkedin"></i><span>Linkedin</span> </a>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="tr-profile section-padding">
  <div class="container">
    <div class="row">
      <div class="col-md-4 col-lg-3">
        <div class="tr-sidebar">
          <ul class="nav nav-tabs profile-tabs section" role="tablist">
            <li role="presentation">
              <a style="cursor: pointer;"
                (click)="goToMyInformation()"
                class="active"
                aria-controls="account-info"
                role="tab"
                data-toggle="tab"
                ><i class="fa fa-life-ring" aria-hidden="true"></i> My
                Information</a
              >
            </li>
            <li role="presentation">
              <a (click)="gotToAddMoreEducationDetails()"
                style="cursor: pointer;"
                aria-controls="edit-resume"
                role="tab"
                data-toggle="tab"
                ><span
                  ><i class="fa fa-pencil-square-o" aria-hidden="true"></i
                ></span>Add Education Details</a
              >
            </li>

            <li role="presentation">
              <a
                routerLink="../../job_portal/applicant_education_details"
                aria-controls="edit-resume"
                role="tab"
                data-toggle="tab"
                ><span
                  ><i class="fa fa-pencil-square-o" aria-hidden="true"></i
                ></span>Education Details</a
              >
            </li>

            <li role="presentation">
              <a style="cursor: pointer;" (click)="goToModifyMyInformation()"
                aria-controls="edit-resume"
                role="tab"
                data-toggle="tab"
                ><span
                  ><i class="fa fa-pencil-square-o" aria-hidden="true"></i
                ></span>Modify My  Details</a
              >
            </li>

            <li role="presentation">
              <a style="cursor: pointer;"
              (click)="openDialog()"
                aria-controls="archived"
                role="tab"
                data-toggle="tab"
                ><span><i class="fa fa-clone" aria-hidden="true"></i></span>
                Applied Jobs</a
              >
            </li>
            <li role="presentation">
              <a (click)="log_out()" style="cursor: pointer;"
                aria-controls="close-account"
                role="tab"
                data-toggle="tab"
                ><span><i class="fa fa-scissors" aria-hidden="true"></i></span>
                Log Out</a
              >
            </li>
          </ul>
          <a href="#" class="btn btn-primary"
            ><i class="fa fa-cloud-download" aria-hidden="true"></i>
            <span>Download Resume as doc</span></a
          >
        </div>
      </div>
      <div class="col-md-8 col-lg-9">
        <div class="tab-content">
          <div
            role="tabpanel"
            class="tab-pane fade in show active account-info"
            id="account-info"
          >
            <div class="tr-fun-fact">
              <div class="row">
                <div class="col-sm-4">
                  <div class="fun-fact">
                    <div class="fun-fact-icon">
                      <img
                        src="../../assets/images/icons/fun-fact4.png"
                        alt="images"
                        class="img-fluid"
                      />
                    </div>
                    <div class="media-body">
                      <h1 class="counter">{{count_all_job_applied}}</h1>
                      <span>Total Applications you Made</span>
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="fun-fact">
                    <div class="fun-fact-icon">
                      <img
                        src="../../assets/images/icons/fun-fact5.png"
                        alt="images"
                        class="img-fluid"
                      />
                    </div>
                    <div class="media-body">
                      <h1 class="counter">{{count_all_not_approved}}</h1>
                      <span>Application not Answered</span>
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="fun-fact">
                    <div class="fun-fact-icon">
                      <img
                        src="../../assets/images/icons/fun-fact6.png"
                        alt="images"
                        class="img-fluid"
                      />
                    </div>
                    <div class="media-body">
                      <h1 class="counter">{{count_all_success_job}}</h1>
                      <span>Archieved Application</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="section resume-last-updated" *ngIf="user_info_data">
              <span class="icon pull-left"
                ><img src="../../assets/images/icons/1.png" alt="Icon" class="img-fluid"
              /></span>
              <div class="updated-info">
                <span class="pull-left">Registration Date</span>
                <span class="pull-right">{{user_info_data.registration_date}}</span>
              </div>
            </div>
            <div class="section display-information">
              <div class="title title-after">
                <div class="icon">
                  <img src="../../assets/images/icons/2.png" alt="Icon" class="img-fluid" />
                </div>
                <span>Your display Information</span>
              </div>
              <div class="change-photo">
                <div class="user-images">
                  <div *ngFor="let logo of img_file" class="user-image">
                    <img [src]="getBase64Image(logo)" alt="{{ logo.name }}" class="img-fluid" />
                  </div>
                </div>

                <div class="upload-photo">
                  <label class="btn btn-primary" for="upload-photo">
                    <input type="file" id="upload-photo" />
                    Change Photo
                  </label>
                  <span class="max-size">Max 20 MB</span>
                </div>
              </div>
              <ul class="tr-list account-details" *ngIf="user_info_data">
                <li>Display Name<span>{{user_info_data.first_name}} {{user_info_data.middle_name}} {{user_info_data.last_name}}</span></li>
                <li>Address<span>{{user_info_data.country_of_origin}}, {{user_info_data.address}}</span></li>
                <li>Phone Number<span>{{user_info_data.contact}}</span></li>
                <li>
                  Email Id<span
                    ><a href="#"
                      ><span
                        class="__cf_email__"
                        data-cfemail="8be1e3e4e5efe4eecbece6eae2e7a5e8e4e6"
                        >[{{user_info_data.email}}]</span
                      ></a
                    ></span
                  >
                </li>
                <li>Industry Expertise<span>{{user_info_data.specialization}}</span></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #callDialog>
  <h2 mat-dialog-title>All Jobs That I Applied</h2>
<mat-dialog-content class="mat-typography">
  <h3>Job Applied Information</h3>
          <div class="row">
            <div class="col-md-12">
              <div class="mat-elevation-z8">
                <table mat-table [dataSource]="dataSource">

                  <ng-container matColumnDef="position">
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element; let i=index"> {{i+1}} </td>
                  </ng-container>

                  <ng-container matColumnDef="name_seeker">
                    <th mat-header-cell *matHeaderCellDef> Name </th>
                    <td mat-cell *matCellDef="let element">
                      {{element.first_name + ' ' + element.middle_name + ' ' + element.last_name }}
                     </td>
                  </ng-container>
                  <ng-container matColumnDef="job_tittle">
                    <th mat-header-cell *matHeaderCellDef> Job Tittle </th>
                    <td mat-cell *matCellDef="let element">
                      {{element.job_tittle}}
                     </td>
                  </ng-container>

                  <ng-container matColumnDef="company">
                    <th mat-header-cell *matHeaderCellDef>Company </th>
                    <td mat-cell *matCellDef="let element">
                      <span *ngFor="let c of company_data">
                        <span *ngIf="element.company_id == c.company_id">
                          {{c.company_name}}
                        </span>
                      </span>
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="specialization">
                      <th mat-header-cell *matHeaderCellDef> Specilization </th>
                      <td mat-cell *matCellDef="let element"> {{element.specialization}} </td>
                    </ng-container>

                    <ng-container matColumnDef="gender">
                      <th mat-header-cell *matHeaderCellDef> Gender </th>
                      <td mat-cell *matCellDef="let element"> {{element.gender}} </td>
                    </ng-container>

                    <ng-container matColumnDef="applied_date">
                      <th mat-header-cell *matHeaderCellDef> Applied Date </th>
                      <td mat-cell *matCellDef="let element">
                        {{element.applied_date}}
                       </td>
                    </ng-container>

                    <ng-container matColumnDef="status">
                      <th mat-header-cell *matHeaderCellDef> Application Status </th>
                      <td mat-cell *matCellDef="let element">
                        <span class="badge badge-warning" *ngIf="element.status == 0">Pending Approval</span>
                        <span class="badge badge-danger" *ngIf="element.status == 2">Not Approved</span>
                        <span class="badge badge-success" *ngIf="element.status == 1">Approved Applicant</span>
                       </td>
                    </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>

                <mat-paginator [pageSizeOptions]="[5,10,15,20,25,50]"
                               showFirstLastButtons
                               aria-label="Select page of periodic elements">
                </mat-paginator>
              </div>
            </div>
          </div>
</mat-dialog-content>
</ng-template>

<!-- footer -->
<app-footer></app-footer>
<!-- footer -->
